{"version":3,"sources":["redux/actions.js","containers/createuser.js","components/createuser.js","containers/login.js","components/login.js","components/NavBar.js","components/home.js","containers/home.js","components/Listings.js","containers/listings.js","router.js","redux/reducers.js","redux/store.js","redux/state.js","App.js","serviceWorker.js","index.js"],"names":["loggedIn","status","type","value","getCoords","coords","console","log","getPlace","lat","lon","yelp","dispatch","fetch","headers","Authorization","then","res","json","response","action","businesses","connect","state","logStatus","newUser","newbie","text","props","useState","open","setOpen","email","username","password","user","setUser","handleChange","e","target","id","a","method","body","JSON","stringify","result","window","alert","handleClose","Button","variant","color","onClick","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","onChange","margin","label","fullWidth","autoComplete","DialogActions","React","setLogin","token","useStyles","makeStyles","theme","root","flexGrow","backgroundColor","height","menuButton","marginRight","spacing","title","fontSize","fontFamily","mood","ButtonAppBar","classes","AppBar","position","Toolbar","className","border","Typography","to","Home","latitude","longitude","getLocation","bind","getCoordinates","this","navigator","geolocation","getCurrentPosition","handleLocationError","document","cookie","setState","error","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","CircularProgress","search","data-tip","Component","place","width","heading","typography","pxToRem","fontWeight","fontWeightRegular","item","display","voter","paper","textAlign","paperGrid","justifyContent","Listings","yelpPlaces","map","d","Object","assign","vote","count","setCount","restID","setID","data","setData","fetchData","axios","useEffect","voteFetch","newVoteTotal","fetchType","handleVoteButton","currentTarget","targetRest","filter","restaurant","restaurant_id","incrementer","vote_total","decrementer","length","getMiles","meters","i","sort","b","restA","restB","comparison","rest","key","Box","boxShadow","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","name","Number","distance","toFixed","ExpansionPanelDetails","display_phone","location","address1","city","priceRange","price","getUser","Router","exact","path","component","combineReducers","cords","createStore","reducers","voteTotal","applyMiddleware","thunk","App","store","Boolean","hostname","match","ReactDOM","render","getElementById","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.8bc7a1a6.chunk.js","sourcesContent":["\r\n\r\nexport const updateVote = (voteTotal) => {\r\n\treturn {\r\n\t\ttype: \"VOTER\",\r\n\t\tvalue: voteTotal\r\n\t}\r\n}\r\n\r\nexport const loggedIn = (status) => {\r\n\treturn {\r\n\t\ttype: \"LOGGED_IN\",\r\n\t\tvalue: status\r\n\t}\r\n}\r\n\r\n\r\nexport const newUser = (text) => {\r\n\treturn {\r\n\t\ttype: \"CREATE_USER\",\r\n\t\ttext\r\n\t}\r\n}\r\n\r\nexport const getCoords = (coords) => {\r\n\tconsole.log(\"actions\", coords)  // checking actions \r\n\treturn {\r\n\t\ttype: \"GET_COORDS\",\r\n\t\tvalue: coords\r\n\t}\r\n}\r\n\r\nexport const getPlace = (lat, lon, type) => {\r\n\r\n\r\n\tconst apiKey = \"p7pqhAhOBOUl2TTVv5dv3wG5aJeF5B88Omtb6vTw_yQv9qT75lLeB_0KnVsG__KXNTBte05YWGixZixSprR1XpLuL4QCuVMhHZ4ydate1TEBdHCpSluwzkBb2ja6XnYx\"\r\n\tconst proxy = \"http://127.0.0.1:8080/\"\r\n\tconst yelp = `https://api.yelp.com/v3/businesses/search?term=${type}&latitude=${lat}&longitude=${lon}&limit=20`\r\n\r\n\treturn (dispatch) => {\r\n\t\tfetch(proxy + yelp, { \r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${apiKey}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.then(res => res.json()\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tconst action = {\r\n\t\t\t\t\t\ttype: 'FETCH_PLACE',\r\n\t\t\t\t\t\tvalue: response.businesses\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdispatch(action)\r\n\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t}\r\n}","import { connect } from  'react-redux'\r\nimport CreateUser from '../components/createuser';\r\nimport { newUser } from '../redux/actions';\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\r\n\t\t\tlogStatus: state.logStatus\r\n\t}\r\n}\r\n\r\n\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tnewUser: (newbie) => dispatch(newUser(newbie))\r\n\t}\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateUser)","import React, { useState } from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\n\r\nexport default function CreateUser(props) {\r\n\r\n  const [open, setOpen] = useState(false);\r\n\tconst [user, setUser] = useState({\r\n\t\temail: '',\r\n\t\tusername: '',\r\n\t\tpassword: ''\r\n});\r\n\r\nfunction handleChange(e) {\r\n\tconst { id, value } = e.target;\r\n\tsetUser(user => ({ ...user, [id]: value }));\r\n}\r\n\r\n\r\nasync function handleSubmit (e){\r\n\tconsole.log(user.username)\r\n\r\n\tlet newUser = {\r\n\t\temail: user.email,\r\n\t\tusername: user.username,\r\n\t\tpassword: user.password\r\n\t};\r\n\r\n\tlet response = await fetch('http://localhost:8080/', {\r\n\t\tmethod: 'POST',\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t},\r\n\t\tbody: JSON.stringify(newUser)\r\n\t});\r\n\t\r\n\tlet result = await response.json();\r\n\tconsole.log(result)\r\n\t\r\n window.alert('Account Created!')\r\n setOpen(false)\r\n\t}\r\n\r\n\r\n\t\r\n\r\n\tconst handleClickOpen = () => {\r\n\t\tsetOpen(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetOpen(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Button id=\"createButton\" variant=\"outlined\" color=\"inherit\" onClick={handleClickOpen}>\r\n\t\t\t\tCreate one!\r\n      </Button>\r\n\t\t\t<Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">Create Account</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\tCreate an account to start voting on restaurants\r\n          </DialogContentText>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\tonChange = {handleChange}\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tid=\"username\"\r\n\t\t\t\t\t\tlabel=\"Username\"\r\n\t\t\t\t\t\ttype=\"username\"\r\n\t\t\t\t\t\tvalue={user.username}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tonChange = {handleChange}\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\tlabel=\"email\"\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tvalue={user.email}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tonChange = {handleChange}\r\n\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tautoComplete=\"current-password\"\r\n\t\t\t\t\t\tvalue={user.password}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n{/* THIS BUTTON SHOULD MATCH THE USER ENTRY FOR THEIR PASSWORDS TO CONFIRM THAT THEY MATCH, AND CONFIRM THAT NO OTHER USER HAS SAME INFO. THEN DISPLAY A DIALOG THAT SAYS ACCOUNT CREATED */}\r\n\t\t\t\t\t<Button onClick={handleSubmit} color=\"primary\">\r\n\t\t\t\t\t\tCreate Account\r\n          </Button>\r\n\t\t\t\t\t<Button onClick={handleClose} color=\"primary\">\r\n\t\t\t\t\t\tCancel\r\n          </Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { connect} from 'react-redux'\r\nimport LogIn from '../components/login';\r\nimport { loggedIn } from \"../redux/actions\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\t// console.log('in listing container',state.place)\r\n\treturn {\r\n\r\n\t\t\tlogStatus: state.logStatus\r\n\t}\r\n}\r\n\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\t\tloggedIn: (status) => dispatch(loggedIn(status))\r\n\r\n\t}\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LogIn)","import React, { useState } from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport FormDialog from '../containers/createuser';\r\n\r\nexport default function LogIn(props) {\r\n\r\n\tconst [open, setOpen] = React.useState(false);\r\n\tconst [user, setLogin] = useState({\r\n\t\tusername: '',\r\n\t\tpassword: ''\r\n\t});\r\n\r\n\tfunction handleChange(e) {\r\n\t\tconst { id, value } = e.target;\r\n\t\tsetLogin(user => ({ ...user, [id]: value }));\r\n\t}\r\n\r\n\r\n\tasync function handleSubmit(e) {\r\n\t\tif (props.logStatus) {\r\n\t\t\tprops.loggedIn(false)\r\n\t\t\tsetOpen(false)\r\n\t\t} else {\r\n\t\t\tlet response = await fetch('http://localhost:8080/login', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify(user)\r\n\t\t\t});\r\n\r\n\t\t\tlet result = await response.json();\r\n\t\t\tconsole.log(result)\r\n\t\t\tif (result.token) {\r\n\t\t\t\tprops.loggedIn(true)\r\n\t\t\t\twindow.alert('You are now logged in!')\r\n\t\t\t\tsetOpen(false)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\tlet innerText= ''\r\n\tconst buttonText = () => {\r\n\t\tif (props.logStatus === true) {\r\n\t\t\treturn innerText = 'Sign Out'\r\n\t\t} else {\r\n\t\t\treturn innerText = 'sign in to vote!'\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleClickOpen = () => {\r\n\t\tif (props.logStatus === true) {\r\n\t\t\tprops.loggedIn(false)\r\n\t\t\tsetOpen(false)\r\n\t\t} else {\r\n\t\t\tsetOpen(true);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetOpen(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Button variant=\"outlined\" color=\"inherit\" onClick={handleClickOpen}>\r\n\t\t\t\t{buttonText()}\r\n\t\t\t</Button>\r\n\t\t\t<Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">Sign In</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\tLog in here to vote a restaurant up or down.\r\n          </DialogContentText>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tid=\"username\"\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tvalue={user.username}\r\n\t\t\t\t\t\tlabel=\"Username\"\r\n\t\t\t\t\t\ttype=\"username\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tautoComplete=\"current-password\"\r\n\t\t\t\t\t\tvalue={user.password}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t{/* MAKE THIS BUTTON HANDLE SIGN IN */}\r\n\t\t\t\t\t<Button onClick={handleSubmit} color=\"primary\">\r\n\t\t\t\t\t\tSign In\r\n          </Button>\r\n\t\t\t\t\t<Button onClick={handleClose} color=\"primary\">\r\n\t\t\t\t\t\tCancel\r\n          </Button>\r\n\r\n\t\t\t\t\t{/* MAKE THIS BUTTON HANDLE CREATE ACCOUNT */}\r\n\t\t\t\t</DialogActions>\r\n\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\tIf you do not have an account,\r\n           <FormDialog />\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormDialog from '../containers/login'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    backgroundColor: 'orangered',\r\n    height: 80,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 6,\r\n    fontSize: 40,\r\n    fontFamily: \"'Open Sans', sans-serif\",\r\n  },\r\n  mood: {\r\n    marginRight: 10,\r\n  }\r\n}));\r\n\r\nexport default function ButtonAppBar() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div>\r\n      <AppBar position=\"static\">\r\n        <Toolbar className={classes.root} border={0}>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            <Link id=\"listrTitle\" to=\"/\">\r\n            Listr \r\n            </Link>\r\n          </Typography>\r\n{/* this opens the dialog for log in */}\r\n          <FormDialog /> \r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}","import React, { Component } from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport {\r\n\tFaPizzaSlice,\r\n\tFaHamburger,\r\n\tFaFish\r\n} from 'react-icons/fa'\r\nimport {\r\n\tGiNoodles,\r\n\tGiSandwich,\r\n\tGiCupcake,\r\n\tGiTacos,\r\n\tGiSteak\r\n} from \"react-icons/gi\"\r\nimport { BsEggFried } from \"react-icons/bs\";\r\nimport { Link } from 'react-router-dom'\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nclass Home extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tlatitude: null,\r\n\t\t\tlongitude: null,\r\n\t\t};\r\n\t\tthis.getLocation = this.getLocation.bind(this);\r\n\t\tthis.getCoordinates = this.getCoordinates.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getLocation()\r\n\t}\r\n\r\n\tgetLocation() {\r\n\t\tif (navigator.geolocation) {\r\n\t\t\tnavigator.geolocation.getCurrentPosition(this.getCoordinates, this.handleLocationError);\r\n\t\t} else {\r\n\t\t\talert(\"geolocation not supported by this browser\")\r\n\t\t}\r\n\t}\r\n\r\n\tgetCoordinates(position) {\r\n\t\tdocument.cookie=\"latitude=\"+position.coords.latitude;\r\n\t\tdocument.cookie=\"longitude=\"+position.coords.longitude; \r\n\t\tthis.setState({\r\n\t\t\tlatitude: position.coords.latitude,\r\n\t\t\tlongitude: position.coords.longitude,\r\n\t\t})\r\n\t}\r\n\r\nhandleLocationError(error) {\r\n\tswitch(error.code) {\r\n    case error.PERMISSION_DENIED:\r\n      alert( \"User denied the request for Geolocation.\")\r\n      break;\r\n    case error.POSITION_UNAVAILABLE:\r\n      alert( \"Location information is unavailable.\")\r\n      break;\r\n    case error.TIMEOUT:\r\n      alert( \"The request to get user location timed out.\")\r\n      break;\r\n    case error.UNKNOWN_ERROR:\r\n      alert( \"An unknown error occurred.\")\r\n\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\talert( \"an unknown error occurred.\" )\r\n  }\r\n\r\n}\r\n\r\n\trender() {\r\n\t\tif(this.state.latitude == null){\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"loadingDiv\">\r\n\t\t\t\t<CircularProgress className=\"progress\" />\r\n\t\t\t\t</div>)\r\n\t\t} else\r\n\treturn (\r\n\t\t\t<div className='homeBody'>\r\n\t\t\t\t<div id='chooseHeading'>Choose a cuisine</div>\r\n\t\t\t\t<div className=\"homeMain\">\r\n\t\t\t\t\t<div className=\"iconContainer\">\r\n\t\t\t\t\t\t<Link to=\"/Listings/pizza\" search=\"?q=pizza\">\r\n\t\t\t\t\t\t<Button id='pizza' onClick={() => this.props.getPlace(this.state.latitude,this.state.longitude,'pizza')}\r\n\t\t\t\t\t\tdata-tip='pizza' ><FaPizzaSlice className='icons' /></Button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/Listings/burgers\">\r\n\t\t\t\t\t\t<Button id='burger' onClick={() => this.props.getPlace(this.state.latitude,this.state.longitude,'burgers')}data-tip='burgers' ><FaHamburger className='icons' /></Button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/Listings/asian\">\r\n\t\t\t\t\t\t<Button id='asian' onClick={() => this.props.getPlace(this.state.latitude,this.state.longitude,'asian')} data-tip='asian' ><GiNoodles className='icons' /></Button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/Listings/breakfast\">\r\n\t\t\t\t\t\t<Button id='breakfast' onClick={() => this.props.getPlace(this.state.latitude,this.state.longitude,'breakfast')}data-tip='breakfast' ><BsEggFried className='icons' /></Button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/Listings/sandwich\">\r\n\t\t\t\t\t\t<Button id='sandwich' onClick={() => this.props.getPlace(this.state.latitude,this.state.longitude,'sandwich')}data-tip='sandwiches' ><GiSandwich className='icons' /></Button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/Listings/bakery\">\r\n\t\t\t\t\t\t<Button id='dessert' onClick={() => this.props.getPlace(this.state.latitude,this.state.longitude,'bakery')} data-tip='bakery' ><GiCupcake className='icons' /></Button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/Listings/mexican\">\r\n\t\t\t\t\t\t<Button id='mexican' onClick={() => this.props.getPlace(this.state.latitude,this.state.longitude,'mexican')}data-tip='mexican' ><GiTacos className='icons' /></Button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/Listings/seafood\">\r\n\t\t\t\t\t\t<Button id='seafood' onClick={() => this.props.getPlace(this.state.latitude,this.state.longitude,'seafood')}data-tip='seafood' ><FaFish className='icons' /></Button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/Listings/steak\">\r\n\t\t\t\t\t\t<Button id='steak' onClick={() => this.props.getPlace(this.state.latitude,this.state.longitude,'steak')}data-tip='steak' ><GiSteak className='icons' /></Button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<ReactTooltip />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t)\r\n\t};\r\n}\r\n\r\n\r\nexport default Home","import { connect } from 'react-redux'\r\nimport Home from '../components/home'\r\nimport { getPlace, getCoords, loggedIn } from '../redux/actions'\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\t\tuser: state.user,\r\n\t\t\tplace: state.place,\r\n\t\t\tcoords: state.coords,\r\n\t\t\tlogStatus: state.logStatus\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\t\tgetPlace: (lat, lon, type) => dispatch(getPlace(lat, lon, type)),\r\n\t\t\tgetCoords: (coords) => dispatch(getCoords(coords)),\r\n\t\t\tloggedIn: (logStatus) => dispatch(loggedIn(logStatus))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\r\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\r\nimport { Button } from '@material-ui/core';\r\nimport Box from '@material-ui/core/Box';\r\nimport axios from \"axios\"\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t},\r\n\theading: {\r\n\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\tfontWeight: theme.typography.fontWeightRegular,\r\n\t},\r\n\titem: {\r\n\t\twidth: '100%',\r\n\t\tdisplay: 'flex',\r\n\r\n\t},\r\n\tvoter: {\r\n\t\tbackgroundColor: 'lightgray',\r\n\t\tdisplay: 'flex',\r\n\t},\r\n\tpaper: {\r\n\t\twidth: '75%',\r\n\t\ttextAlign: 'center',\r\n\t},\r\n\tpaperGrid: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'center'\r\n\t},\r\n\r\n}));\r\n\r\nconst Listings = (props) => {\r\n\r\n\tconst classes = useStyles();\r\n\tlet yelpPlaces = []\r\n\r\n\tyelpPlaces = props.place.map(d => {\r\n\t\treturn Object.assign(d, { vote: 0 })\r\n\r\n\t})\r\n\r\n\r\n\tvar [count, setCount] = useState(0)\r\n\tvar [restID, setID] = useState('')\r\n\tconst [data, setData] = useState([]);\r\n\r\n\tconst fetchData = async () => {\r\n\t\tconst result = await axios(\r\n\t\t\t'http://localhost:8080/listings',\r\n\t\t);\r\n\r\n\t\tsetData(result.data);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchData();\r\n\t}, []);\r\n\r\n\tconst voteFetch = async function (newVoteTotal, fetchType) {\r\n\r\n\t\tlet response = await fetch('http://localhost:8080/listings', {\r\n\t\t\tmethod: fetchType,\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t'accept': 'application/json'\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify(newVoteTotal)\r\n\t\t});\r\n\t\tlet result = await response.json();\r\n\t}\r\n\r\n\t///////////////////          VOTE BUTTON HANDLER        //////////////\r\n\r\n\r\n\tasync function handleVoteButton(e) {\r\n\r\n\t\tlet id = e.currentTarget.id\r\n\t\tsetID(restID = id)\r\n\r\n\t\tlet targetRest = data.filter(restaurant => {\r\n\t\t\tif (restaurant.restaurant_id === id) {\r\n\t\t\t\treturn restaurant.restaurant_id\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tlet incrementer = () => {\r\n\t\t\tsetCount(count = targetRest[0].vote_total + 1)\r\n\t\t}\r\n\r\n\t\tlet decrementer = () => {\r\n\t\t\tsetCount(count = targetRest[0].vote_total - 1)\r\n\t\t}\r\n\r\n\t\t//////////  NEW VOTE   /////////////////\r\n\t\tif (targetRest.length == 0) {\r\n\t\t\tconsole.log(e.currentTarget.id)\r\n\t\t\tif (e.currentTarget.value === \"upVote\") {\r\n\t\t\t\tsetCount(count = 1)\r\n\t\t\t}\r\n\t\t\telse if (e.currentTarget.value === \"downVote\") {\r\n\t\t\t\tsetCount(count = -1)\r\n\t\t\t}\r\n\t\t\tlet newVoteTotal = {\r\n\t\t\t\tvote_total: count,\r\n\t\t\t\trestaurant_id: e.currentTarget.id\r\n\t\t\t};\r\n\t\t\tvoteFetch(newVoteTotal, \"POST\")\r\n\t\t\tfetchData()\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t////////////////    A VOTE EXISTS     /////////////////////////\r\n\r\n\r\n\t\tif (targetRest[0].restaurant_id) {\r\n\t\t\tif (e.currentTarget.value === \"upVote\") {\r\n\t\t\t\tincrementer()\r\n\t\t\t\ttargetRest[0].vote_total = count\r\n\t\t\t}\r\n\t\t\telse if (e.currentTarget.value === \"downVote\") {\r\n\t\t\t\tdecrementer()\r\n\t\t\t\ttargetRest[0].vote_total = count\r\n\t\t\t}\r\n\t\t\tlet newVoteTotal = {\r\n\t\t\t\tvote_total: count,\r\n\t\t\t\trestaurant_id: restID\r\n\t\t\t};\r\n\t\t\tvoteFetch(newVoteTotal, \"PUT\")\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\t/////////        get miles for details        //////////////////////////////\r\n\r\n\tfunction getMiles(meters) {\r\n\t\treturn meters * 0.000621371192;\r\n\t}\r\n\r\n\t/////////////      get price range for details      ////////////////////////\r\n\r\n\tfunction price(priceRange) {\r\n\t\tif (priceRange === \"$$$\") {\r\n\t\t\treturn \"expensive\"\r\n\t\t} else if (priceRange === \"$$\") {\r\n\t\t\treturn \"average\"\r\n\t\t} else {\r\n\t\t\treturn \"cheap\"\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t/////////   SORT FOR LIST RENDER BASED ON VOTES    ////////////////////\r\n\r\n\tyelpPlaces.map(restaurant => {\r\n\t\tif (yelpPlaces.length === 0) {\r\n\t\t\tconsole.log(\"empty\")\r\n\t\t} else {\r\n\t\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\t\tif (restaurant.id === data[i].restaurant_id) {\r\n\t\t\t\t\treturn restaurant.vote = data[i].vote_total\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\tfunction compare(a, b) {\r\n\t\tconst restA = a.vote;\r\n\t\tconst restB = b.vote;\r\n\r\n\t\tlet comparison = 0;\r\n\t\tif (restA > restB) {\r\n\t\t\tcomparison = -1;\r\n\t\t} else if (restA < restB) {\r\n\t\t\tcomparison = 1\r\n\t\t}\r\n\t\treturn comparison\r\n\t}\r\n\r\n\r\n\tyelpPlaces.sort(compare)\r\n\t/////////////////////////////        RETURN    ///////////////////////////////////////////\r\n\r\n\tif (yelpPlaces.length === 0) {\r\n\t\treturn (\r\n\t\t\t<div className=\"loadingDiv\">\r\n\t\t\t\t<CircularProgress className=\"progress\" />\r\n\t\t\t</div>)\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t{console.log(\"data : \", data),\r\n\t\t\t\t\tconsole.log(\"yelpPlaces : \", yelpPlaces)}\r\n\t\t\t\t{yelpPlaces.map((rest, i) => (\r\n\t\t\t\t\t<div className='listItem' key={i}>\r\n\t\t\t\t\t\t{props.logStatus && \r\n\t\t\t\t\t\t<Box boxShadow={2} className={classes.voter}>\r\n\t\t\t\t\t\t\t<Button id={rest.id} value=\"upVote\" onClick={handleVoteButton}  >\r\n\t\t\t\t\t\t\t\t<ArrowUpwardIcon />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button id={rest.id} value=\"downVote\" onClick={handleVoteButton} >\r\n\t\t\t\t\t\t\t\t<ArrowDownwardIcon />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Box>}\r\n\t\t\t\t\t\t<ExpansionPanel className=\"expansionPanel\">\r\n\t\t\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\t\taria-controls=\"panel1a-content\"\r\n\t\t\t\t\t\t\t\tid=\"panel1a-header\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div className=\"itemHeading\">\r\n\t\t\t\t\t\t\t\t\t<div className='itemHeadingText'>{rest.name}</div>\r\n\t\t\t\t\t\t\t\t\t<div className='itemHeadingText' id=\"score\">Listr Score: {rest.vote}</div>\r\n\t\t\t\t\t\t\t\t\t<div className='itemHeadingText' id='distance'>{Number(getMiles(rest.distance).toFixed(2))} Miles from you!</div>\r\n\t\t\t\t\t\t\t\t\t<div className='itemHeadingText' id='distanceMobile'>{Number(getMiles(rest.distance).toFixed(2))} Miles</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t\t\t<Typography className=\"detailsList\">\r\n\t\t\t\t\t\t\t\t\t<li>Phone : {rest.display_phone}</li>\r\n\t\t\t\t\t\t\t\t\t<li>Address : {rest.location.address1}.\r\n\t\t\t\t\t\t\t\t {rest.location.city}, {rest.location.state}</li>\r\n\t\t\t\t\t\t\t\t\t<li>Price range : {price(rest.price)}</li>\r\n\t\t\t\t\t\t\t\t\t<li id=\"scoreMobile\">Listr Score: {rest.vote}</li>\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t\t\t</ExpansionPanel>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default Listings","import { connect } from 'react-redux'\r\nimport Listings from '../components/Listings'\r\nimport { getPlace, getCoords, loggedIn} from '../redux/actions'\r\n\r\n \r\nconst mapStateToProps = (state) => {\r\n\t// console.log('in listing container',state.place)\r\n\treturn {\r\n\t\t\tgetUser: state.user,\r\n\t\t\tplace: state.place,\r\n\t\t\tcoords: state.coords,\r\n\t\t\tlogStatus: state.logStatus\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\t\tgetPlace: (place) => dispatch(getPlace(place)),\r\n\t\t\tgetCoords: (coords) => dispatch(getCoords(coords)),\r\n\t\t\tloggedIn: (logStatus) => dispatch(loggedIn(logStatus))\r\n\t}\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Listings)","import React from 'react'\r\nimport { Switch, Route } from 'react-router'\r\nimport Home from './containers/home'\r\nimport Listings from './containers/listings'\r\n\r\nconst Router = () => {\r\n    return (\r\n        <Switch>\r\n            <Route exact path=\"/\" component={Home} />\r\n            <Route path=\"/Listings/:type\" component={Listings} />\r\n            <Route path=\"/Listings\" component={Listings} />\r\n        </Switch>\r\n    );\r\n};\r\n\r\nexport default Router;","import { combineReducers } from 'redux'\r\n\r\nconst logStatus = (state = false, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'LOGGED_IN':\r\n\t\t\treturn  action.value\r\n\t\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nconst place = (state = [], action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'FETCH_PLACE':\r\n\t\t\treturn [...action.value]\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nconst coords = (state = [], action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'GET_COORDS':\r\n\t\r\n\t\t\treturn [action.cords]\r\n\t\t\t\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\t\t\r\n}\r\n\r\n\r\n\r\nexport default combineReducers({ place, coords, logStatus })","import { createStore, applyMiddleware } from 'redux'\r\nimport reducers from './reducers'\r\nimport state from './state'\r\nimport thunk from 'redux-thunk'\r\n\r\nexport default createStore(reducers, state, applyMiddleware(thunk))","export default {\r\n\tplace: [\r\n\r\n\t],\r\n\tuser:[\r\n\r\n\t],\r\n\tcoords: {\r\n\t\tlatitude: null,\r\n\t\tlongitude: null\r\n\t},\r\n\tvoteTotal: [\r\n\t\t\r\n\t],\r\n\tlogStatus: false\r\n}","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport NavBar from \"./components/NavBar\"\r\nimport Router from './router'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\nimport store from './redux/store'\r\n\r\nclass App extends Component {\r\n\r\n  render() {\r\n\r\n    return (\r\n      \r\n        <Provider store={store}>\r\n          <BrowserRouter>\r\n            <NavBar />\r\n            <Router />\r\n          </BrowserRouter>\r\n        </Provider>\r\n    )\r\n  };\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}